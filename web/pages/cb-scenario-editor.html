<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Cursed Blades</title>
</head>
<body>

<script type="module">

    import {
        CBScenarioEditorGame, CBEditorPlayer
    } from "../jslib/cblades/editor.js";
    import {
        CBMap
    } from "../jslib/cblades/map.js";
    import {
        GameLoader
    } from "../jslib/cblades/loader.js";
    import {
        getParameterByName
    } from "../jslib/draw.js";
    import {
        CBStakesCounter, CBSmokeCounter, CBFireCounter
    } from "../jslib/cblades/miscellaneous.js";

    let gameId = parseInt(getParameterByName("id"));
    let game = new CBScenarioEditorGame(gameId);
    let map = new CBMap([]);
    game.setMap(map);
    new GameLoader(game, (name, path)=>new CBEditorPlayer(name, path))
        .loadForEdition(gameId,
        ()=>{
            game.fitWindow();
            document.body.appendChild(game.root);
            game.setMenu();
        }
    );

</script>
</body>
</html>